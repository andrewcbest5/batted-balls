<h1 class="player-name">{{ playerName }}</h1>


 <h2>Stats Summary</h2>

<table mat-table [dataSource]="percentiles" class="mat-elevation-z8 percentile-table" *ngIf="playerStats">

  <ng-container matColumnDef="stat">
    <th mat-header-cell *matHeaderCellDef>Stat</th>
    <td mat-cell *matCellDef="let element">{{ element.stat }}</td>
  </ng-container>

  <ng-container matColumnDef="value">
    <th mat-header-cell *matHeaderCellDef>Value</th>
    <td mat-cell *matCellDef="let element">{{ element.value }}</td>
  </ng-container>

  <ng-container matColumnDef="percentile">
    <th mat-header-cell *matHeaderCellDef>Percentile</th>
    <td mat-cell *matCellDef="let element">
      <span
        class="percentile-badge"
        [ngStyle]="{
          'background': getPercentileColor(element.percentile)
        }"
      >
        {{ element.percentile }}th
      </span>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="['stat', 'value', 'percentile']"></tr>
  <tr mat-row *matRowDef="let row; columns: ['stat', 'value', 'percentile'];"></tr>
</table>

<div>
  <h2>Batted Ball Profile</h2>
  <p>These are the percentages of each type of batted ball for {{ playerName }}.</p>

  <div class = "table-container">
<table mat-table [dataSource]="[playerStats]" class="mat-elevation-z8 percentile-table" *ngIf="playerStats">

  <ng-container matColumnDef="GroundBallsPercentage">
    <th mat-header-cell *matHeaderCellDef>Ground Ball %</th>
    <td mat-cell *matCellDef="let element">{{ element.GroundBallsPercentage }}</td>
  </ng-container>

  <ng-container matColumnDef="FlyBallsPercentage">
    <th mat-header-cell *matHeaderCellDef>Fly Ball %</th>
    <td mat-cell *matCellDef="let element">{{ element.FlyBallsPercentage }}</td>
  </ng-container>

  <ng-container matColumnDef="LineDrivesPercentage">
    <th mat-header-cell *matHeaderCellDef>Line Drive %</th>
    <td mat-cell *matCellDef="let element">{{ element.LineDrivesPercentage }}</td>
  </ng-container>

  <ng-container matColumnDef="PopUpsPercentage">
    <th mat-header-cell *matHeaderCellDef>Popup %</th>
    <td mat-cell *matCellDef="let element">{{ element.PopUpsPercentage }}</td>
  </ng-container>

    <ng-container matColumnDef="LeftPercentage">
    <th mat-header-cell *matHeaderCellDef>Left %</th>
    <td mat-cell *matCellDef="let element">{{ element.LeftPercentage }}</td>
  </ng-container>

    <ng-container matColumnDef="CenterPercentage">
    <th mat-header-cell *matHeaderCellDef>Center %</th>
    <td mat-cell *matCellDef="let element">{{ element.CenterPercentage }}</td>
  </ng-container>

    <ng-container matColumnDef="RightPercentage">
    <th mat-header-cell *matHeaderCellDef>Right %</th>
    <td mat-cell *matCellDef="let element">{{ element.RightPercentage }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedBIPColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedBIPColumns;"></tr>
</table>

<div>


<table mat-table [dataSource]="[playerStats]" class="mat-elevation-z8 percentile-table" *ngIf="playerStats">

    <ng-container matColumnDef="GroundBallsPercentage">
  <th mat-header-cell *matHeaderCellDef>Ground Ball %</th>
  <td mat-cell *matCellDef="let element">{{ element.GroundBallsPercentage }}</td>
</ng-container>

  <ng-container matColumnDef="GBleftPercentage">
    <th mat-header-cell *matHeaderCellDef>Ground Ball Left %</th>
    <td mat-cell *matCellDef="let element">{{ element.GBleftPercentage }}</td>
  </ng-container>

  <ng-container matColumnDef="GBcenterPercentage">
    <th mat-header-cell *matHeaderCellDef>Ground Ball Center %</th>
    <td mat-cell *matCellDef="let element">{{ element.GBcenterPercentage }}</td>
  </ng-container>

  <ng-container matColumnDef="GBrightPercentage">
    <th mat-header-cell *matHeaderCellDef>Ground Ball Right %</th>
    <td mat-cell *matCellDef="let element">{{ element.GBrightPercentage }}</td>
  </ng-container>

  <ng-container matColumnDef="airleftPercentage">
    <th mat-header-cell *matHeaderCellDef>Air Left %</th>
    <td mat-cell *matCellDef="let element">{{ element.airleftPercentage }}</td>
  </ng-container>

    <ng-container matColumnDef="aircenterPercentage">
    <th mat-header-cell *matHeaderCellDef>Air Center %</th>
    <td mat-cell *matCellDef="let element">{{ element.aircenterPercentage }}</td>
  </ng-container>

    <ng-container matColumnDef="airrightPercentage">
    <th mat-header-cell *matHeaderCellDef>Air Right %</th>
    <td mat-cell *matCellDef="let element">{{ element.airrightPercentage }}</td>
  </ng-container>



  <tr mat-header-row *matHeaderRowDef="displayedBIPColumns2"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedBIPColumns2;"></tr>
</table>

</div>


<div class="glossary">
  <h3>Glossary</h3>
  <ul>
    <li><strong>Ground Ball </strong>: Launch angle < 10 degrees.</li>
    <li><strong>Line Drive </strong>: Launch angle between 10 and 25 degrees</li>
    <li><strong>Fly Ball </strong>: Launch angle between 25 and 50 degrees</li>
    <li><strong>Popup </strong>: Launch angle greater than 50 degrees</li>
    <li><strong>Left </strong>: Hit towards left field, infield balls included</li>
    <li><strong>Center </strong>: Hit towards center field, infield balls included</li>
    <li><strong>Right </strong>: Hit towards right field, infield balls included</li>
  </ul>
</div>

<h3> 
Note: Data is from the first two weeks of the 2018 season.
</h3>